{{/*
  ======================================
  AUTHORS
  ======================================
*/}}

{{- if (not (isset .Params "authors")) | or (eq .Params.authors "") -}}
{{- else -}}
  <div class="authors">
    {{/* get the authors  */}}
    {{- $_authors := .Params.authors -}}

    {{/* Count the number of authors */}}
    {{- $length := $_authors | len -}}

    {{- range $i, $e := $_authors -}}

      {{/* If the byline was entered as a display name (i.e. - John Smith )
      then this will turn that into a UID for use in a URL. */}}
      {{- $uid := $e | urlize -}}

      {{- $data := $.Site.Data -}}
      {{/* Lets look up the author data, based on the UID. Should equal the filename */}}
      {{- $author := index $.Site.Data.people.authors $uid -}}

      {{/* If $i is more than 1 (show the comma) */}}
      {{- if lt (add $i 1) $length -}}
        {{- $comma := "," -}}
      {{- else -}}
        {{- $comma := "" -}}
      {{- end -}}

      <div class="author grid-row flex-no-wrap">
        <div class="grid-col-auto">
          <div class="photo height-5 width-5 display-flex flex-align-center flex-justify-center">
            {{- if $author.github -}}
            <img class="circle-5" src="https://github.com/{{- $author.github -}}.png?size=50" alt="">
            {{- else -}}
            <img class="circle-5" src="{{ "img/profile.png" | absURL }}" alt="">
            {{- end -}}
          </div>
        </div>
        <div class="grid-col-9">
          <div class="details">
            <h5>
              <a href="{{- (printf "authors/%s/" $uid) | absURL -}} " title="Posts by {{- $author.display_name | default $uid -}} " rel="author">
                {{- $author.display_name | default $uid -}}
              </a>
            </h5>
            <p>18F / GSA | Washington D.C.</p>
          </div>
        </div>
      </div>

    {{- end -}}
  </div>
{{- end -}}
